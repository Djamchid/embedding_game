<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu d'Embeddings - Explorer les PropriÃ©tÃ©s Ã‰mergentes</title>
    <link rel="stylesheet" href="styles_enhanced.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ§  Jeu d'Embeddings SÃ©mantiques</h1>
        <p class="subtitle">Exploration interactive des propriÃ©tÃ©s Ã©mergentes dans les espaces vectoriels</p>

        <!-- Navigation par onglets -->
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('analogies')">ğŸ¯ Analogies</button>
            <button class="tab-button" onclick="switchTab('clusters')">ğŸ—‚ï¸ Clusters SÃ©mantiques</button>
            <button class="tab-button" onclick="switchTab('visualization')">ğŸ“Š Visualisation 2D</button>
        </div>

        <!-- ONGLET 1: Jeu d'analogies (original) -->
        <div id="analogies-tab" class="tab-content active">
            <div class="explanation">
                <strong>ğŸ¯ Comment Ã§a marche :</strong> Chaque mot est reprÃ©sentÃ© par un vecteur de 50 dimensions.
                L'analogie utilise l'arithmÃ©tique vectorielle : <code>vecteur(C) + vecteur(B) - vecteur(A) = vecteur(rÃ©sultat)</code>
                <br><br>
                <strong>ğŸ“Š Base de donnÃ©es :</strong> <span id="wordCount">1000+</span> mots avec embeddings GloVe
            </div>

            <div class="game-area">
                <div class="analogie">
                    <div style="position: relative;">
                        <input type="text" id="wordA" placeholder="king" autocomplete="off">
                        <div id="suggestionsA" class="word-suggestions" style="display: none;"></div>
                    </div>
                    <span>est Ã </span>
                    <div style="position: relative;">
                        <input type="text" id="wordB" placeholder="queen" autocomplete="off">
                        <div id="suggestionsB" class="word-suggestions" style="display: none;"></div>
                    </div>
                    <span>ce que</span>
                    <div style="position: relative;">
                        <input type="text" id="wordC" placeholder="man" autocomplete="off">
                        <div id="suggestionsC" class="word-suggestions" style="display: none;"></div>
                    </div>
                    <span>est Ã </span>
                    <input type="text" id="result" placeholder="?" readonly style="background:#e2e8f0; font-weight: bold;">
                </div>

                <div style="text-align: center;">
                    <button onclick="calculerAnalogie()">ğŸ§® Calculer</button>
                    <button onclick="motAleatoire()">ğŸ² AlÃ©atoire</button>
                    <button onclick="reset()">ğŸ”„ Reset</button>
                </div>

                <div id="loading" class="loading" style="display: none;">
                    Calcul en cours...
                </div>
            </div>

            <div id="resultSection" class="result">
                <h3>ğŸ¯ RÃ©sultat de l'analogie :</h3>
                <div id="resultText"></div>
                <div id="similarityScore" class="similarity-score"></div>
                <div id="closestWords" class="closest-words">
                    <strong>ğŸ” Mots les plus proches :</strong>
                    <div id="wordList" class="word-list"></div>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <strong>ğŸ“ˆ Analogies testÃ©es</strong>
                    <div id="totalAnalogies" style="font-size: 1.5em; color: #667eea;">0</div>
                </div>
                <div class="stat-card">
                    <strong>âœ… RÃ©ussites</strong>
                    <div id="successRate" style="font-size: 1.5em; color: #48bb78;">0%</div>
                </div>
                <div class="stat-card">
                    <strong>ğŸ† Score moyen</strong>
                    <div id="averageScore" style="font-size: 1.5em; color: #ed8936;">0.0</div>
                </div>
            </div>
        </div>

        <!-- ONGLET 2: Clusters sÃ©mantiques -->
        <div id="clusters-tab" class="tab-content">
            <div class="explanation">
                <strong>ğŸ—‚ï¸ DÃ©couverte de clusters :</strong> Utilise K-means pour dÃ©couvrir automatiquement 
                des regroupements sÃ©mantiques Ã©mergents dans l'espace vectoriel.
            </div>

            <div class="controls">
                <label>Nombre de clusters (2 Ã  nb_mots/5) : <input type="number" id="numClusters" value="10" min="2" max="200"></label>
                <button onclick="runClustering()">ğŸ” DÃ©couvrir les clusters</button>
                <button onclick="showClusterStatistics()">ğŸ“Š Statistiques</button>
            </div>

            <div id="clusterProgress" class="loading" style="display: none;">
                Clustering en cours...
            </div>

            <div id="clusterResults" style="display: none;">
                <h3>ğŸ“¦ Clusters dÃ©couverts :</h3>
                <div id="clusterList" class="cluster-list"></div>
                <div id="clusterStats" class="cluster-stats"></div>
            </div>
        </div>

        <!-- ONGLET 3: Visualisation 2D -->
        <div id="visualization-tab" class="tab-content">
            <div class="explanation">
                <strong>ğŸ“Š Projection UMAP :</strong> Visualisation en 2D de l'espace vectoriel Ã  50 dimensions.
                Les mots proches sÃ©mantiquement apparaissent Ã  proximitÃ©.
            </div>

            <div class="controls">
                <button onclick="runUMAP()">ğŸ¨ GÃ©nÃ©rer la projection UMAP</button>
                <button onclick="toggleLabels()">ğŸ·ï¸ Afficher/Masquer labels</button>
                <button onclick="resetZoom()">ğŸ” RÃ©initialiser le zoom</button>
                <label>
                    <input type="checkbox" id="showClustersViz" onchange="updateVisualization()">
                    Colorer par clusters
                </label>
            </div>

            <div id="umapProgress" class="loading" style="display: none;">
                Projection UMAP en cours... (peut prendre 10-30 secondes)
            </div>

            <div id="canvasContainer" style="position: relative; margin: 20px auto;">
                <canvas id="visualizationCanvas" width="800" height="600"></canvas>
                <div id="tooltip" class="tooltip" style="display: none;"></div>
            </div>

            <div id="vizStats" class="viz-stats"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/umap-js@1.4.0/lib/umap-js.min.js"></script>
    <script src="data_embeddings.js"></script>
    <script src="app.js"></script>
    <script src="clusters.js"></script>
    <script src="visualization.js"></script>
    <script src="main.js"></script>
</body>
</html>
